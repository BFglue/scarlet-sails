Этапы разработки (глобальные задачи)

1) [x] Базовая настройка репозитория
- [x] Инициализировать Next.js 14+ (App Router) + TypeScript
- [x] Настроить TailwindCSS (минимальный дизайн)
- [x] Настроить структуру папок (app, components, lib, types)
- [x] Подготовить .env.example и описать переменные окружения
- [x] Добавить инструкции локального запуска (README)

2) [ ] Общие типы и API-клиент
- [ ] Создать единый тип Listing (и DTO для списков/деталей)
- [ ] Создать API-клиент (fetch wrapper) с обработкой ошибок
- [ ] Вынести все ссылки и параметры в env/константы

3) [ ] Публичный SEO-сайт
- [ ] Главная страница: поиск, последние объекты, ссылки на районы
- [ ] Каталог: фильтры, пагинация, запрос к n8n (action=list)
- [ ] Страница района: листинг + SEO-текст-заглушка
- [ ] Карточка объекта: запрос к n8n (action=detail)
- [ ] Страница контактов
- [ ] SEO: title/description/OG, canonical
- [ ] Генерация sitemap.xml
- [ ] Добавить robots.txt

4) [ ] Telegram WebApp (кабинет риелтора)
- [ ] Страница /app: список «мои объекты» (action=my_listings)
- [ ] Страница /app/new: создание (action=upsert)
- [ ] Страница /app/edit/:id: редактирование (action=upsert)
- [ ] Удаление объекта (action=delete) — опционально
- [ ] Чтение Telegram initData
- [ ] Экран ошибок (невалидная подпись / нет allowlist)

5) [ ] Telegram Bot
- [ ] Бот на Node.js + grammY/telegraf + TypeScript
- [ ] /start с кнопкой «Открыть кабинет» (WebApp)
- [ ] (Опционально) кнопка «Создать объект» → /app/new
- [ ] Инструкции запуска бота локально

6) [ ] Интеграция и стабилизация
- [ ] Проверка корректного обмена с n8n
- [ ] Отработка пустых/ошибочных ответов
- [ ] Минимальный UX для ошибок/пустых списков

7) [ ] Финальная проверка Definition of Done
- [ ] Бот открывает WebApp
- [ ] WebApp показывает «мои объекты» и CRUD
- [ ] Публичный сайт показывает каталог/карточку/районы
- [ ] Все данные идут из n8n
- [ ] Ошибки allowlist/авторизации отображаются понятно
